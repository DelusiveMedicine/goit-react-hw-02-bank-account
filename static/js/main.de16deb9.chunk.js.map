{"version":3,"sources":["components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Dashboard.module.css","components/Controls/Controls.module.css","components/Controls/Controls.jsx","components/Balance/Balance.jsx","components/helpers.js","components/TransactionHistory/TransactionHistory.jsx","components/Dashboard/Dashboard.jsx","components/App.jsx","index.js"],"names":["module","exports","Controls","state","amount","changeHandler","value","target","valueNumber","Number","setState","clickHandler","props","toastManager","onDeposit","transaction","dataset","add","appearance","autoDismiss","type","name","date","Date","toLocaleString","id","shortId","withdrawHandler","onWithdraw","balance","this","controls","styles","className","onChange","data-name","onClick","Component","withToastManager","Balance","income","expenses","balanceStyle","incomeStyle","expensesStyle","thousandsSeparator","num","numParts","toString","split","replace","join","TransactionHistory","items","history","historyBodyItem","historyHeadItem","map","item","withFixedPoint","toFixed","key","initState","Dashboard","transactions","prevState","addTransaction","dashboard","fixedPointBalance","fixedPointIncome","fixedPointExpenses","length","App","placement","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.de16deb9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"balanceStyle\":\"Balance_balanceStyle__2rKQa\",\"incomeStyle\":\"Balance_incomeStyle__HbfKb\",\"expensesStyle\":\"Balance_expensesStyle__KQ1ct\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__1J33Y\",\"historyHeadItem\":\"TransactionHistory_historyHeadItem__rcPg2\",\"historyBodyItem\":\"TransactionHistory_historyBodyItem__1p4NI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__247Zx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__RxD7m\"};","import React, { Component } from 'react';\r\nimport styles from './Controls.module.css';\r\nimport { withToastManager } from 'react-toast-notifications';\r\nimport PropTypes from 'prop-types';\r\nimport shortId from 'shortid';\r\n\r\nclass Controls extends Component {\r\n  state = { amount: 0 };\r\n\r\n  changeHandler = ({ target }) => {\r\n    const { value } = target;\r\n    const valueNumber = Number(value);\r\n    this.setState({\r\n      amount: valueNumber,\r\n    });\r\n  };\r\n\r\n  clickHandler = ({ target }) => {\r\n    const { toastManager, onDeposit, transaction } = this.props;\r\n    const { dataset } = target;\r\n    const { amount } = this.state;\r\n\r\n    if (amount <= 0) {\r\n      return toastManager.add('Введите сумму для проведения операции!', {\r\n        appearance: 'warning',\r\n        autoDismiss: true,\r\n      });\r\n    }\r\n\r\n    transaction.type = dataset.name;\r\n    transaction.amount = amount;\r\n    transaction.date = new Date().toLocaleString();\r\n    transaction.id = shortId();\r\n\r\n    if (dataset.name === 'deposit') onDeposit(amount);\r\n    if (dataset.name === 'withdraw') this.withdrawHandler();\r\n    this.setState({ amount: 0 });\r\n  };\r\n\r\n  withdrawHandler = () => {\r\n    const { onWithdraw, toastManager, balance } = this.props;\r\n    const { amount } = this.state;\r\n    if (balance < amount) {\r\n      return toastManager.add(\r\n        'На счету недостаточно средств для проведения операции!',\r\n        {\r\n          appearance: 'warning',\r\n          autoDismiss: true,\r\n        },\r\n      );\r\n    }\r\n    onWithdraw(amount);\r\n  };\r\n\r\n  render() {\r\n    const { amount } = this.state;\r\n    const { controls } = styles;\r\n\r\n    return (\r\n      <section className={controls}>\r\n        <input\r\n          type=\"number\"\r\n          name=\"amount\"\r\n          value={amount}\r\n          onChange={this.changeHandler}\r\n        />\r\n        <button type=\"button\" data-name=\"deposit\" onClick={this.clickHandler}>\r\n          Deposit\r\n        </button>\r\n        <button type=\"button\" data-name=\"withdraw\" onClick={this.clickHandler}>\r\n          Withdraw\r\n        </button>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nControls.propTypes = {\r\n  onDeposit: PropTypes.func.isRequired,\r\n  onWithdraw: PropTypes.func.isRequired,\r\n  toastManager: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\r\n    .isRequired,\r\n};\r\n\r\nexport default withToastManager(Controls);\r\n","import React from 'react';\r\nimport styles from './Balance.module.css';\r\n\r\nconst Balance = ({ balance, income, expenses }) => {\r\n  const { balanceStyle, incomeStyle, expensesStyle } = styles;\r\n  return (\r\n    <section className={balanceStyle}>\r\n      <span className={incomeStyle}>{income}$</span>\r\n      <span className={expensesStyle}>{expenses}$</span>\r\n      <span>{`Balance: ${balance}$`}</span>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","const thousandsSeparator = num => {\n  const numParts = num.toString().split('.');\n  numParts[0] = numParts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  return numParts.join('.');\n};\n\nexport default thousandsSeparator;\n","import React from 'react';\r\nimport styles from './TransactionHistory.module.css';\r\nimport thousandsSeparator from '../helpers';\r\n\r\nconst TransactionHistory = ({ items }) => {\r\n  const { history, historyBodyItem, historyHeadItem } = styles;\r\n  return (\r\n    <table className={history}>\r\n      <thead>\r\n        <tr>\r\n          <th className={historyHeadItem}>Transaction</th>\r\n          <th className={historyHeadItem}>Amount</th>\r\n          <th className={historyHeadItem}>Date</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {items.map(item => {\r\n          const { id, type, amount, date } = item;\r\n          const withFixedPoint = thousandsSeparator(amount.toFixed(2));\r\n          return (\r\n            <tr key={id}>\r\n              <td className={historyBodyItem}>{type}</td>\r\n              <td className={historyBodyItem}>{withFixedPoint}$</td>\r\n              <td className={historyBodyItem}>{date}</td>\r\n            </tr>\r\n          );\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default TransactionHistory;\r\n","import React, { Component } from 'react';\r\nimport styles from './Dashboard.module.css';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\nimport thousandsSeparator from '../helpers';\r\n\r\nconst initState = {\r\n  id: '',\r\n  type: '',\r\n  amount: 0,\r\n  date: '',\r\n};\r\n\r\nclass Dashboard extends Component {\r\n  state = {\r\n    transactions: [],\r\n    balance: 0,\r\n    transaction: { ...initState },\r\n    income: 0,\r\n    expenses: 0,\r\n  };\r\n\r\n  onDeposit = amount => {\r\n    this.setState(prevState => ({\r\n      balance: prevState.balance + amount,\r\n      income: prevState.income + amount,\r\n    }));\r\n    this.addTransaction();\r\n  };\r\n\r\n  onWithdraw = amount => {\r\n    this.setState(prevState => ({\r\n      balance: prevState.balance - amount,\r\n      expenses: prevState.expenses + amount,\r\n    }));\r\n    this.addTransaction();\r\n  };\r\n\r\n  addTransaction = () => {\r\n    const { transaction } = this.state;\r\n    this.setState(prevState => ({\r\n      transactions: [...prevState.transactions, transaction],\r\n      transaction: { ...initState },\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { balance, transaction, income, expenses, transactions } = this.state;\r\n    const { dashboard } = styles;\r\n    const fixedPointBalance = thousandsSeparator(balance.toFixed(2));\r\n    const fixedPointIncome = thousandsSeparator(income.toFixed(2));\r\n    const fixedPointExpenses = thousandsSeparator(expenses.toFixed(2));\r\n\r\n    return (\r\n      <div className={dashboard}>\r\n        <Controls\r\n          transaction={transaction}\r\n          onDeposit={this.onDeposit}\r\n          onWithdraw={this.onWithdraw}\r\n          balance={balance}\r\n        />\r\n        <Balance\r\n          balance={fixedPointBalance}\r\n          income={fixedPointIncome}\r\n          expenses={fixedPointExpenses}\r\n        />\r\n        {transactions.length > 0 && <TransactionHistory items={transactions} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport { ToastProvider } from 'react-toast-notifications';\r\nimport Dashboard from './Dashboard/Dashboard';\r\n\r\nconst App = () => {\r\n  return (\r\n    <ToastProvider placement=\"bottom-right\">\r\n      <Dashboard />\r\n    </ToastProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}